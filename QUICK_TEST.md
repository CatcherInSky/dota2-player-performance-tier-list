# 快速测试指南

## 🚀 立即测试

### 步骤 1：编译代码
```bash
pnpm build
```

### 步骤 2：运行调试模式（查看详细日志）
```bash
pnpm find-dota-debug
```

## 📊 预期输出

### ✅ 成功找到的情况
```
============================================================
开始查找 Dota2 配置目录
============================================================

[方法 1] 从注册表获取 Steam 路径
[调试] 操作系统: linux
[调试] 是否为 WSL: true
[调试] WSL 环境，使用 cmd.exe 执行注册表查询
✓ Steam 路径: /mnt/c/Program Files (x86)/Steam

[方法 1.1] 解析库文件夹
[调试] 共找到 2 个库文件夹

[方法 1.2] 查找 Dota2
  检查 [1/2]: /mnt/c/...
  ✗ 不存在
  检查 [2/2]: /mnt/c/Program Files (x86)/Steam/steamapps/...
============================================================
✓✓✓ 找到 Dota2 配置目录！
路径: /mnt/c/Program Files (x86)/Steam/steamapps/common/dota 2 beta/game/dota/cfg/gamestate_integration
============================================================

最终结果: /mnt/c/Program Files (x86)/Steam/steamapps/common/dota 2 beta/game/dota/cfg/gamestate_integration
```

### ❌ 未找到的情况
```
============================================================
开始查找 Dota2 配置目录
============================================================

[方法 1] 从注册表获取 Steam 路径
[调试] 操作系统: linux
[调试] 是否为 WSL: true
✓ Steam 路径: /mnt/c/Program Files (x86)/Steam

[方法 1.2] 查找 Dota2
  检查 [1/1]: /mnt/c/.../dota 2 beta/...
  ✗ 不存在
✗ 在所有库文件夹中都未找到 Dota2

[方法 2] 尝试常见安装路径
  检查 [1/4]: /mnt/c/Program Files (x86)/Steam/...
  ✗ 不存在
  检查 [2/4]: /mnt/c/Program Files/Steam/...
  ✗ 不存在
  ...

============================================================
✗✗✗ 未找到 Dota2 配置目录
提示: 请确保 Dota2 已正确安装
============================================================

最终结果: 未找到
```

## 🔍 关键检查点

### 1. 确认 WSL 环境被正确识别
```
[调试] 是否为 WSL: true  ← 应该看到这个
```

### 2. 确认使用 cmd.exe 访问注册表
```
[调试] WSL 环境，使用 cmd.exe 执行注册表查询  ← 应该看到这个
```

### 3. 确认路径转换正确
```
[调试] 解析到 Steam 路径: C:\Program Files (x86)\Steam
[调试] 转换为 WSL 路径: /mnt/c/Program Files (x86)/Steam
```

### 4. 确认检查了正确的路径
路径应该是 `/mnt/c/...` 格式，而不是 `C:\...` 格式

## 📝 下一步

### 如果成功找到：
```bash
# 继续测试配置文件创建
pnpm setup-cfg

# 或者直接启动应用
pnpm start
```

### 如果未找到：
1. 检查 Dota2 是否已安装
2. 查看调试日志中检查了哪些路径
3. 手动确认 Dota2 安装路径：
```bash
# 在 Windows 文件管理器中打开 Steam 库
# 右键 Dota2 -> 属性 -> 本地文件 -> 浏览本地文件

# 或在 WSL 中手动检查
ls "/mnt/c/Program Files (x86)/Steam/steamapps/common/"
```

## 💡 提示

- 调试日志会显示每一步的详细信息
- 所有检查的路径都会被列出
- 路径转换过程会被记录
- 可以根据日志判断问题出在哪一步

