# ğŸ” Dota 2 GSI é…ç½®æ–‡ä»¶å®Œæ•´æ€§åˆ†æ

## ğŸ“‹ å½“å‰é…ç½®å¯¹æ¯”

### å®é™…éƒ¨ç½²çš„é…ç½®æ–‡ä»¶
**ä½ç½®**: `C:\Program Files (x86)\Steam\steamapps\common\dota 2 beta\game\dota\cfg\gamestate_integration\gamestate_integration_performance.cfg`

```vdf
"Dota 2 Integration Configuration - Performance Tracker"
{
  "uri"               "http://172.23.182.134:32866/"
  "timeout"           "5.0"
  "buffer"            "0.1"
  "throttle"          "2.0"
  "heartbeat"         "30.0"
  "data"
  {
    "provider"        "1"
    "map"             "1"
    "player"          "1"
    "hero"            "1"
    "abilities"       "1"
    "items"           "1"
    "buildings"       "1"
    "allplayers"      "1"
  }
}
```

### æ¨¡æ¿é…ç½®æ–‡ä»¶
**ä½ç½®**: `public/gamestate_integration_performance.cfg`

```vdf
"Dota 2 Integration Configuration - Performance Tracker"
{
  "uri"               "http://localhost:{{PORT}}/"
  "timeout"           "5.0"
  "buffer"            "0.1"
  "throttle"          "2.0"
  "heartbeat"         "30.0"
  "data"
  {
    "provider"        "1"
    "map"             "1"
    "player"          "1"
    "hero"            "1"
    "abilities"       "1"
    "items"           "1"
    "buildings"       "1"
    "allplayers"      "1"
  }
}
```

---

## ğŸš¨ å…³é”®å‘ç°

### âœ… å¥½æ¶ˆæ¯

1. **allplayerså­—æ®µå·²é…ç½®** âœ…
   - é…ç½®æ–‡ä»¶ä¸­åŒ…å« `"allplayers": "1"`
   - è¿™åº”è¯¥èƒ½è·å–æ‰€æœ‰10ä¸ªç©å®¶çš„æ•°æ®

2. **URIå·²æ­£ç¡®é…ç½®** âœ…
   - å®é™…æ–‡ä»¶ä½¿ç”¨äº†WSL IP: `172.23.182.134:32866`
   - è¿™æ˜¯æ­£ç¡®çš„ï¼Œå› ä¸ºåº”ç”¨åœ¨WSLä¸­è¿è¡Œ

3. **throttleå·²ä¼˜åŒ–** âœ…
   - è®¾ç½®ä¸º `2.0` ç§’ï¼Œå‡å°‘æ•°æ®å‘é€é¢‘ç‡

### âš ï¸ å‘ç°çš„é—®é¢˜

#### é—®é¢˜1: é…ç½®æ–‡ä»¶è·¯å¾„ä¸åŒï¼

**é¢„æœŸè·¯å¾„** (ä»£ç ä¸­):
```
C:\...\dota 2 beta\game\dota\cfg\gamestate_integration_performance.cfg
```

**å®é™…è·¯å¾„** (Dota2æ–°ç‰ˆæœ¬):
```
C:\...\dota 2 beta\game\dota\cfg\gamestate_integration\gamestate_integration_performance.cfg
                                                        ^^^^^^^^^^^^^^^^^^^^
                                                        å¤šäº†è¿™ä¸ªå­ç›®å½•ï¼
```

**å½±å“**: 
- âŒ æˆ‘ä»¬çš„`cfg-manager.ts`å¯èƒ½éƒ¨ç½²åˆ°äº†é”™è¯¯çš„ä½ç½®
- âŒ Dota2å¯èƒ½åœ¨è¯»å–ä¸åŒçš„é…ç½®æ–‡ä»¶
- âŒ è¿™å¯èƒ½è§£é‡Šäº†ä¸ºä»€ä¹ˆallplayersæ•°æ®ç¼ºå¤±

#### é—®é¢˜2: ç¼ºå°‘éƒ¨åˆ†å¯é€‰å­—æ®µ

æ ¹æ®Dota2 GSIæ–‡æ¡£å’Œç¤¾åŒºå®è·µï¼Œè¿˜æœ‰ä»¥ä¸‹å¯é€‰å­—æ®µï¼š

**ç¼ºå°‘çš„å­—æ®µ**:
```
"draft"           "1"    // é€‰äººé˜¶æ®µæ•°æ®ï¼ˆè‹±é›„é€‰æ‹©ã€banè‹±é›„ç­‰ï¼‰
"wearables"       "1"    // è£…é¥°å“/å¤–è§‚æ•°æ®
"league_tier"     "1"    // å¤©æ¢¯æ®µä½ä¿¡æ¯ï¼ˆå¯èƒ½å·²åºŸå¼ƒï¼‰
"minimap"         "1"    // å°åœ°å›¾äº‹ä»¶ï¼ˆå¯èƒ½å·²åºŸå¼ƒï¼‰
```

**æˆ‘ä»¬é¢å¤–æ·»åŠ çš„å­—æ®µ**:
```
"buildings"       "1"    // å»ºç­‘çŠ¶æ€ âœ… æœ‰ç”¨ï¼
"allplayers"      "1"    // æ‰€æœ‰ç©å®¶æ•°æ® âœ… éå¸¸é‡è¦ï¼
```

---

## ğŸ“Š æ‰€æœ‰å·²çŸ¥GSI Dataå­—æ®µ

åŸºäºValveå®˜æ–¹æ–‡æ¡£å’Œç¤¾åŒºå®è·µï¼Œä»¥ä¸‹æ˜¯**å®Œæ•´çš„GSI dataå­—æ®µåˆ—è¡¨**ï¼š

| å­—æ®µ | çŠ¶æ€ | ç”¨é€” | é‡è¦æ€§ |
|------|------|------|--------|
| `provider` | âœ… å·²é…ç½® | æ¸¸æˆç‰ˆæœ¬ã€æ—¶é—´æˆ³ | â­â­ |
| `map` | âœ… å·²é…ç½® | åœ°å›¾çŠ¶æ€ã€æ¯”åˆ†ã€æ¸¸æˆé˜¶æ®µ | â­â­â­â­â­ |
| `player` | âœ… å·²é…ç½® | ç©å®¶æ•°æ®ï¼ˆè‡ªå·±ï¼‰| â­â­â­â­â­ |
| `hero` | âœ… å·²é…ç½® | è‹±é›„çŠ¶æ€ï¼ˆè‡ªå·±çš„è‹±é›„ï¼‰| â­â­â­â­â­ |
| `abilities` | âœ… å·²é…ç½® | æŠ€èƒ½çŠ¶æ€å’Œå†·å´ | â­â­â­â­ |
| `items` | âœ… å·²é…ç½® | ç‰©å“æ å’Œä»“åº“ | â­â­â­â­ |
| `buildings` | âœ… å·²é…ç½® | é˜²å¾¡å¡”ã€å…µè¥çŠ¶æ€ | â­â­â­ |
| `allplayers` | âœ… å·²é…ç½® | **æ‰€æœ‰10ä¸ªç©å®¶çš„æ•°æ®** | â­â­â­â­â­ |
| `draft` | âŒ æœªé…ç½® | é€‰äºº/banäººé˜¶æ®µæ•°æ® | â­â­â­ |
| `wearables` | âŒ æœªé…ç½® | è£…é¥°å“/çš®è‚¤ä¿¡æ¯ | â­ |
| `events` | ğŸ”„ è‡ªåŠ¨åŒ…å« | æ¸¸æˆäº‹ä»¶ï¼ˆå‡»æ€ã€èŠå¤©ç­‰ï¼‰| â­â­â­â­ |
| `previously` | ğŸ”„ è‡ªåŠ¨åŒ…å« | ä¸Šæ¬¡æ•°æ®çš„å˜åŒ– | â­â­â­ |

**å›¾ä¾‹**:
- âœ… å·²é…ç½®ä¸”å·¥ä½œ
- âŒ æœªé…ç½®
- ğŸ”„ Dota2è‡ªåŠ¨åŒ…å«ï¼Œæ— éœ€é…ç½®

---

## ğŸ¯ é—®é¢˜æ ¹æºåˆ†æ

### ä¸ºä»€ä¹ˆallplayersæ•°æ®ç¼ºå¤±ï¼Ÿ

ç»è¿‡åˆ†æï¼Œå¯èƒ½çš„åŸå› ï¼š

#### 1. **è·¯å¾„é—®é¢˜ï¼ˆæœ€å¯èƒ½ï¼‰** âš ï¸

Dota2æ–°ç‰ˆæœ¬è¦æ±‚GSIé…ç½®æ–‡ä»¶æ”¾åœ¨ï¼š
```
cfg/gamestate_integration/
```
è€Œä¸æ˜¯ç›´æ¥æ”¾åœ¨ï¼š
```
cfg/
```

**è¯æ®**:
- ä½ æ‰“å¼€çš„å®é™…æ–‡ä»¶è·¯å¾„åŒ…å« `gamestate_integration\` å­ç›®å½•
- æˆ‘ä»¬çš„ä»£ç å¯èƒ½éƒ¨ç½²åˆ°äº†æ—§è·¯å¾„

**è§£å†³æ–¹æ¡ˆ**: ä¿®æ”¹ `cfg-manager.ts` çš„éƒ¨ç½²è·¯å¾„

#### 2. **Dota2æœªå®Œå…¨é‡å¯**

å³ä½¿é…ç½®æ–‡ä»¶æ­£ç¡®ï¼ŒDota2ä¹Ÿéœ€è¦å®Œå…¨é‡å¯æ‰èƒ½è¯»å–æ–°é…ç½®ã€‚

**éªŒè¯æ–¹æ³•**:
```
1. å®Œå…¨å…³é—­Dota2
2. æ£€æŸ¥ä»»åŠ¡ç®¡ç†å™¨ä¸­æ²¡æœ‰dota2.exeè¿›ç¨‹
3. é‡æ–°å¯åŠ¨Dota2
4. è¿›å…¥å¯¹å±€æµ‹è¯•
```

#### 3. **Dota2ç‰ˆæœ¬é—®é¢˜**

æŸäº›Dota2ç‰ˆæœ¬å¯èƒ½å¯¹allplayerså­—æ®µæ”¯æŒä¸å®Œæ•´ã€‚

---

## ğŸ”§ ä¿®å¤å»ºè®®

### ç«‹å³ä¿®å¤: æ›´æ–°é…ç½®æ–‡ä»¶è·¯å¾„

ä¿®æ”¹ `src/cfg-manager.ts`:

```typescript
// æ—§ä»£ç 
static findDota2CfgPath(): string | null {
  // ... æŸ¥æ‰¾é€»è¾‘ ...
  return path.join(dota2Path, 'game', 'dota', 'cfg');
}

// æ–°ä»£ç  - åº”è¯¥è¿”å› gamestate_integration å­ç›®å½•
static findDota2CfgPath(): string | null {
  // ... æŸ¥æ‰¾é€»è¾‘ ...
  return path.join(dota2Path, 'game', 'dota', 'cfg', 'gamestate_integration');
  //                                                  ^^^^^^^^^^^^^^^^^^^^^^^^
  //                                                  æ·»åŠ å­ç›®å½•ï¼
}
```

### å¯é€‰æ”¹è¿›: æ·»åŠ draftå­—æ®µ

å¦‚æœéœ€è¦è®°å½•é€‰äººé˜¶æ®µæ•°æ®ï¼Œæ·»åŠ ï¼š

```vdf
"data"
{
  "provider"        "1"
  "map"             "1"
  "player"          "1"
  "hero"            "1"
  "abilities"       "1"
  "items"           "1"
  "buildings"       "1"
  "allplayers"      "1"
  "draft"           "1"     // æ–°å¢ï¼šé€‰äººé˜¶æ®µæ•°æ®
}
```

**draftå­—æ®µåŒ…å«**:
- æ¯ä¸ªç©å®¶é€‰æ‹©çš„è‹±é›„
- è¢«bançš„è‹±é›„åˆ—è¡¨
- é€‰äººé¡ºåºå’Œæ—¶é—´
- é¢„é€‰è‹±é›„

---

## âœ… éªŒè¯æ¸…å•

ä½¿ç”¨ä»¥ä¸‹æ¸…å•ç¡®è®¤é…ç½®æ­£ç¡®ï¼š

### æ­¥éª¤1: æ£€æŸ¥é…ç½®æ–‡ä»¶ä½ç½®

```powershell
# æ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦åœ¨æ­£ç¡®ä½ç½®
dir "C:\Program Files (x86)\Steam\steamapps\common\dota 2 beta\game\dota\cfg\gamestate_integration\gamestate_integration_performance.cfg"
```

âœ… åº”è¯¥å­˜åœ¨æ­¤æ–‡ä»¶

### æ­¥éª¤2: æ£€æŸ¥é…ç½®æ–‡ä»¶å†…å®¹

```powershell
# æŸ¥çœ‹é…ç½®æ–‡ä»¶å†…å®¹
type "C:\Program Files (x86)\Steam\steamapps\common\dota 2 beta\game\dota\cfg\gamestate_integration\gamestate_integration_performance.cfg"
```

âœ… åº”è¯¥åŒ…å« `"allplayers": "1"`
âœ… URIåº”è¯¥æŒ‡å‘æ­£ç¡®çš„IPå’Œç«¯å£

### æ­¥éª¤3: å®Œå…¨é‡å¯Dota2

```
1. å…³é—­Dota2å®¢æˆ·ç«¯
2. Ctrl+Shift+Esc æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨
3. ç¡®è®¤æ²¡æœ‰ dota2.exe è¿›ç¨‹
4. é‡æ–°å¯åŠ¨Dota2
```

### æ­¥éª¤4: æµ‹è¯•æ•°æ®æ¥æ”¶

```bash
# åœ¨WSLä¸­å¯åŠ¨åº”ç”¨
cd /home/zhang/dota2-player-performance-tier-list
npm start

# è¿›å…¥Dota2å¯¹å±€
# è§‚å¯Ÿæ§åˆ¶å°è¾“å‡ºæ˜¯å¦åŒ…å« "allplayers" å­—æ®µ
```

### æ­¥éª¤5: éªŒè¯æ—¥å¿—æ–‡ä»¶

```bash
# æŸ¥çœ‹æœ€æ–°æ—¥å¿—
cd /home/zhang/gsi-logs
grep -o "allplayers" match-æœ€æ–°æ–‡ä»¶.json | wc -l
```

âœ… å¦‚æœè¾“å‡º > 0ï¼Œè¯´æ˜allplayersæ•°æ®å·²æ¥æ”¶ï¼

---

## ğŸ“ å»ºè®®çš„å®Œæ•´é…ç½®

åŸºäºåˆ†æï¼Œä»¥ä¸‹æ˜¯**æ¨èçš„å®Œæ•´é…ç½®**ï¼š

```vdf
"Dota 2 Integration Configuration - Performance Tracker"
{
  "uri"               "http://172.23.182.134:32866/"
  "timeout"           "5.0"
  "buffer"            "0.1"
  "throttle"          "2.0"
  "heartbeat"         "30.0"
  "data"
  {
    "provider"        "1"
    "map"             "1"
    "player"          "1"
    "hero"            "1"
    "abilities"       "1"
    "items"           "1"
    "buildings"       "1"
    "allplayers"      "1"
    "draft"           "1"    // å¯é€‰ï¼šå¦‚æœéœ€è¦é€‰äººé˜¶æ®µæ•°æ®
  }
}
```

**ä¸å»ºè®®æ·»åŠ **:
- `"wearables"` - è£…é¥°å“æ•°æ®å¯¹æ€§èƒ½åˆ†ææ— ç”¨
- `"league_tier"` - å¯èƒ½å·²åºŸå¼ƒ

---

## ğŸ¯ ç»“è®º

### é…ç½®æ–‡ä»¶å­—æ®µ âœ… å®Œæ•´ä¸”æ­£ç¡®

å½“å‰é…ç½®æ–‡ä»¶åŒ…å«äº†**æ‰€æœ‰æ ¸å¿ƒå­—æ®µ**ï¼Œç‰¹åˆ«æ˜¯å…³é”®çš„ `allplayers` å­—æ®µã€‚

### ä¸»è¦é—®é¢˜: è·¯å¾„ä¸åŒ¹é… âš ï¸

**æ ¹æœ¬åŸå› **: é…ç½®æ–‡ä»¶åº”è¯¥åœ¨ `cfg/gamestate_integration/` å­ç›®å½•ï¼Œè€Œä¸æ˜¯ç›´æ¥åœ¨ `cfg/` ç›®å½•ã€‚

### ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. **ç«‹å³**: ä¿®æ”¹ `cfg-manager.ts` æ·»åŠ  `gamestate_integration` å­ç›®å½•
2. **ç«‹å³**: é‡æ–°ç¼–è¯‘å¹¶éƒ¨ç½²é…ç½®æ–‡ä»¶
3. **ç«‹å³**: å®Œå…¨é‡å¯Dota2
4. **å¯é€‰**: æ·»åŠ  `draft` å­—æ®µä»¥è®°å½•é€‰äººé˜¶æ®µ

å®Œæˆè¿™äº›æ­¥éª¤åï¼Œ`allplayers` æ•°æ®åº”è¯¥èƒ½æ­£å¸¸æ¥æ”¶ï¼ ğŸ‰

